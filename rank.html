<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äººæ°”æ’è¡Œæ¦œ - ä¸–è¯´é‡‘è¯­</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* æ’è¡Œæ¦œé¡µé¢ä¸“ç”¨æ ·å¼ - ç®€åŒ–ç‰ˆ */
        :root {
            --gold-color: #FFD700;
            --gold-light: #FFEC8B;
            --gold-dark: #FFA500;
            --silver-color: #C0C0C0;
            --bronze-color: #CD7F32;
            --dark-bg: #0a0a0a;
        }
        
        body.rank-page {
            background: linear-gradient(135deg, var(--dark-bg) 0%, #1a1a2e 50%, #16213e 100%);
            color: #fff;
            font-family: 'Microsoft YaHei', sans-serif;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }
        
        /* ä¸»å†…å®¹åŒº */
        .rank-main-content {
            margin-left: 280px;
            padding: 0;
            min-height: 100vh;
            background: transparent;
            transition: margin-left 0.3s ease;
        }
        
        .rank-main-content.sidebar-collapsed {
            margin-left: 80px;
        }
        
        /* é¡¶éƒ¨æ¨ªå¹… */
        .rank-header {
            text-align: center;
            padding: 40px 20px 30px;
            position: relative;
            overflow: hidden;
            background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
        }
        
        .rank-title {
            font-size: 3rem;
            background: linear-gradient(45deg, var(--gold-color), var(--gold-dark), var(--gold-light));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            margin-bottom: 10px;
        }
        
        .rank-subtitle {
            font-size: 1.2rem;
            color: #ccc;
            margin-bottom: 20px;
        }
        
        .update-time {
            display: inline-block;
            padding: 8px 20px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            font-size: 0.9rem;
            color: var(--gold-color);
        }
        
        /* å¯¼èˆªæ ‡ç­¾ */
        .rank-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 0 20px 30px;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .rank-tab {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 2px solid transparent;
            border-radius: 25px;
            color: #ccc;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        
        .rank-tab:hover {
            background: rgba(255, 215, 0, 0.15);
            border-color: rgba(255, 215, 0, 0.5);
            color: var(--gold-color);
            transform: translateY(-2px);
        }
        
        .rank-tab.active {
            background: linear-gradient(45deg, var(--gold-color), var(--gold-dark));
            color: #000;
            font-weight: bold;
            border-color: var(--gold-color);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .rank-tab-icon {
            margin-right: 5px;
        }
        
        /* è‹±é›„èˆå°åŒº */
        .hero-stage {
            padding: 20px 20px 40px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }
        
        .stage-title {
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 40px;
            color: var(--gold-color);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        .stage-title::after {
            content: '';
            display: block;
            width: 120px;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--gold-color), transparent);
            margin: 15px auto;
        }
        
        .podium-container {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 20px;
            min-height: 400px;
            position: relative;
            margin-bottom: 40px;
        }
        
        /* é€šç”¨å¥–å°æ ·å¼ */
        .podium {
            position: relative;
            border-radius: 15px 15px 0 0;
            padding: 25px 20px;
            text-align: center;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 1;
            border: 2px solid transparent;
        }
        
        .podium:hover {
            transform: translateY(-5px);
        }
        
        .rank-badge {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 2;
            border: 3px solid;
        }
        
        .person-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            border: 4px solid;
            overflow: hidden;
            position: relative;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .person-name {
            font-size: 1.6rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .person-title {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 20px;
            padding: 5px 15px;
            border-radius: 15px;
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .person-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .influence-score {
            font-size: 1.5rem;
            color: var(--gold-color);
            font-weight: bold;
            margin: 15px 0;
            padding: 8px 15px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }
        
        /* å† å†›æ ·å¼ */
        .podium-first {
            width: 300px;
            height: 380px;
            background: linear-gradient(135deg, var(--gold-color) 0%, var(--gold-dark) 100%);
            order: 2;
            position: relative;
            z-index: 3;
            border-color: var(--gold-color);
        }
        
        .podium-first .rank-badge {
            background: #000;
            color: var(--gold-color);
            border-color: #000;
        }
        
        .podium-first .person-avatar {
            border-color: #000;
            background: rgba(255, 255, 255, 0.2);
            color: #000;
        }
        
        .podium-first .person-name {
            color: #000;
        }
        
        .podium-first .person-title {
            background: rgba(0, 0, 0, 0.15);
            color: #000;
        }
        
        .podium-first .stat-value {
            color: #000;
        }
        
        .podium-first .influence-score {
            color: #000;
            background: rgba(0, 0, 0, 0.15);
            border-color: rgba(0, 0, 0, 0.3);
        }
        
        /* äºšå†›æ ·å¼ */
        .podium-second {
            width: 280px;
            height: 350px;
            background: linear-gradient(135deg, var(--silver-color) 0%, #A9A9A9 100%);
            order: 1;
            z-index: 2;
            border-color: var(--silver-color);
        }
        
        .podium-second .rank-badge {
            background: #333;
            color: var(--silver-color);
            border-color: #333;
        }
        
        .podium-second .person-avatar {
            border-color: #333;
            background: rgba(255, 255, 255, 0.2);
            color: #333;
        }
        
        .podium-second .person-name {
            color: #fff;
        }
        
        .podium-second .person-title {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .podium-second .stat-value {
            color: #fff;
        }
        
        .podium-second .influence-score {
            color: var(--silver-color);
        }
        
        /* å­£å†›æ ·å¼ */
        .podium-third {
            width: 280px;
            height: 330px;
            background: linear-gradient(135deg, var(--bronze-color) 0%, #8B4513 100%);
            order: 3;
            z-index: 2;
            border-color: var(--bronze-color);
        }
        
        .podium-third .rank-badge {
            background: #5D4037;
            color: var(--bronze-color);
            border-color: #5D4037;
        }
        
        .podium-third .person-avatar {
            border-color: #5D4037;
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
        }
        
        .podium-third .person-name {
            color: #fff;
        }
        
        .podium-third .person-title {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .podium-third .stat-value {
            color: #fff;
        }
        
        .podium-third .influence-score {
            color: var(--bronze-color);
        }
        
        /* ç²¾è‹±æ¦œå•åŒº */
        .elite-rankings {
            max-width: 1200px;
            margin: 0 auto 40px;
            padding: 0 20px;
        }
        
        .elite-title {
            font-size: 1.6rem;
            margin-bottom: 30px;
            color: var(--gold-color);
            text-align: center;
        }
        
        .elite-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .elite-card {
            background: rgba(255, 255, 255, 0.07);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            border: 1px solid rgba(255, 215, 0, 0.1);
        }
        
        .elite-card:hover {
            background: rgba(255, 255, 255, 0.12);
            transform: translateY(-5px);
            border-color: rgba(255, 215, 0, 0.3);
        }
        
        .elite-rank {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            background: rgba(255, 215, 0, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--gold-color);
            border: 2px solid rgba(255, 215, 0, 0.3);
        }
        
        .elite-content {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .elite-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: rgba(255, 215, 0, 0.15);
            border: 2px solid rgba(255, 215, 0, 0.3);
            flex-shrink: 0;
        }
        
        .elite-info {
            flex: 1;
        }
        
        .elite-name {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 5px;
            color: #fff;
        }
        
        .elite-type {
            display: inline-block;
            padding: 3px 10px;
            background: rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            font-size: 0.8rem;
            color: var(--gold-color);
        }
        
        .elite-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        
        .elite-stat {
            text-align: center;
            padding: 10px 5px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }
        
        .elite-stat-value {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--gold-color);
        }
        
        .elite-stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1100px) {
            .podium-container {
                flex-direction: column;
                align-items: center;
                gap: 40px;
            }
            
            .podium {
                width: 80% !important;
                max-width: 400px;
                height: auto !important;
            }
            
            .podium-first {
                order: 1;
            }
            
            .podium-second {
                order: 2;
            }
            
            .podium-third {
                order: 3;
            }
        }
        
        @media (max-width: 768px) {
            .rank-main-content {
                margin-left: 0;
            }
            
            .rank-title {
                font-size: 2.2rem;
            }
            
            .rank-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .rank-tab {
                width: 90%;
                max-width: 300px;
            }
            
            .elite-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* åŠ è½½åŠ¨ç”» */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark-bg);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 215, 0, 0.3);
            border-top: 4px solid var(--gold-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* æ— æ•°æ®æç¤º */
        .no-data {
            text-align: center;
            padding: 40px 20px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
            grid-column: 1 / -1;
        }
    </style>
</head>
<body class="content-page rank-page">
    <!-- åŠ è½½åŠ¨ç”» -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>
    
    <!-- å·¦ä¾§ä¾§è¾¹æ å®¹å™¨ -->
    <div class="sidebar" id="sidebar">
        <button class="sidebar-toggle" id="sidebar-toggle">â‰¡</button>
        <div class="sidebar-content">
            <div class="sidebar-header">
                <h2 class="sidebar-main-title">ä¸–è¯´é‡‘è¯­</h2>
                <p class="sidebar-sub-title">æ ¡å›­è¯­å½•æ¡£æ¡ˆé¦†</p>
                <hr class="sidebar-divider">
            </div>
            
            <div class="subject-list">
                <!-- è¯­æ–‡ -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ“– è¯­æ–‡</span>
                    <div class="teacher-list">
                        <span class="teacher-item" data-subject="è¯­æ–‡" data-teacher="é™ˆç³">é™ˆç³</span>
                        <span class="teacher-item" data-subject="è¯­æ–‡" data-teacher="èŒƒå¶æ–Œ">èŒƒå¶æ–Œ</span>
                        <span class="teacher-item" data-subject="è¯­æ–‡" data-teacher="éƒ‘å®‡">éƒ‘å®‡</span>
                    </div>
                </div>
                
                <!-- æ•°å­¦ -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ”¢ æ•°å­¦</span>
                    <div class="teacher-list">
                        <span class="teacher-item" data-subject="æ•°å­¦" data-teacher="é‡‘å£°">é‡‘å£°</span>
                    </div>
                </div>
                
                <!-- è‹±è¯­ -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ—£ï¸ è‹±è¯­</span>
                    <div class="teacher-list">
                        <span class="teacher-item" data-subject="è‹±è¯­" data-teacher="å†¯ç§‹äº‘">å†¯ç§‹äº‘</span>
                        <span class="teacher-item" data-subject="è‹±è¯­" data-teacher="èµµæ°¸æ’">èµµæ°¸æ’</span>
                    </div>
                </div>
                
                <!-- ç‰©ç† -->
                <div class="subject-item">
                    <span class="subject-title">âš›ï¸ ç‰©ç†</span>
                    <div class="teacher-list">
                        <span class="teacher-item" data-subject="ç‰©ç†" data-teacher="é¢œæœ‰è™¹">é¢œæœ‰è™¹</span>
                    </div>
                </div>
                
                <!-- åŒ–å­¦ -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ§ª åŒ–å­¦</span>
                    <div class="teacher-list">
                        <span class="teacher-item" data-subject="åŒ–å­¦" data-teacher="ä¸¥å¿—èŠ³">ä¸¥å¿—èŠ³</span>
                        <span class="teacher-item" data-subject="åŒ–å­¦" data-teacher="ç¨‹ä¿æƒ">ç¨‹ä¿æƒ</span>
                    </div>
                </div>
                
                <!-- ç”Ÿç‰© -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ§¬ ç”Ÿç‰©</span>
                    <div class="teacher-list">
                        <span class="teacher-item" data-subject="ç”Ÿç‰©" data-teacher="é™ˆå‰ç´">é™ˆå‰ç´</span>
                        <span class="teacher-item" data-subject="ç”Ÿç‰©" data-teacher="å¶æ°¸è">å¶æ°¸è</span>
                    </div>
                </div>
                
                <!-- æ”¿æ²» -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ“œ æ”¿æ²»</span>
                    <div class="teacher-list">
                        <span class="teacher-item" data-subject="æ”¿æ²»" data-teacher="å‚…æ•">å‚…æ•</span>
                        <span class="teacher-item" data-subject="æ”¿æ²»" data-teacher="æ—æ ¹">æ—æ ¹</span>
                    </div>
                </div>
                
                <!-- æ•™å®˜è¯­å½• -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ¥ æ•™å®˜è¯­å½•</span>
                    <div class="teacher-list">
                        <span class="teacher-item" data-subject="æ•™å®˜è¯­å½•" data-teacher="æ˜Ÿè¾°">æ˜Ÿè¾°</span>
                    </div>
                </div>
                
                <!-- å­¦ç”Ÿè¯­å½• -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ‘¨â€ğŸ“ å­¦ç”Ÿè¯­å½•</span>
                    <div class="teacher-list">
                        <span class="teacher-item" data-subject="å­¦ç”Ÿè¯­å½•" data-teacher="æœªæ•´ç†">å­¦ç”Ÿè¯­å½•</span>
                    </div>
                </div>
                
                <!-- æ•°æ®åˆ†æ -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ“Š æ•°æ®åˆ†æ</span>
                    <div class="teacher-list">
                        <a href="rank.html" class="teacher-item" data-subject="æ•°æ®åˆ†æ" data-teacher="äººæ°”æ’è¡Œæ¦œ">äººæ°”æ’è¡Œæ¦œğŸ†</a>
                        <a href="summary.html" class="teacher-item" data-subject="æ•°æ®åˆ†æ" data-teacher="ç»Ÿè®¡">ç»Ÿè®¡ğŸ“ˆ</a>
                    </div>
                </div>
                
                <!-- èµ›åšæ¡£æ¡ˆ -->
                <div class="subject-item">
                    <span class="subject-title">ğŸ¤– èµ›åšæ¡£æ¡ˆ</span>
                    <div class="teacher-list">
                        <a href="picture.html" class="teacher-item" data-subject="èµ›åšæ¡£æ¡ˆ" data-teacher="å›¾ç‰‡é›†">å›¾ç‰‡é›†</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å³ä¾§å†…å®¹åŒº -->
    <div class="rank-main-content" id="rank-main-content">
        <div class="top-bar">
            <a href="search.html" class="search-btn">
                <span>ğŸ”</span> æœç´¢
            </a>
        </div>

        <!-- æ’è¡Œæ¦œé¡µé¢å†…å®¹ -->
        <div class="rank-content">
            <!-- é¡¶éƒ¨æ¨ªå¹… -->
            <div class="rank-header">
                <h1 class="rank-title">ğŸ† äººæ°”é£äº‘æ¦œ ğŸ†</h1>
                <p class="rank-subtitle">é‡‘å£°é—ªè€€ï¼Œè¯­å½•äº‰é”‹ Â· è£è€€å±äºæ¯ä¸€ä½æ ¡å›­ä¼ å¥‡</p>
                <div class="update-time" id="updateTimeDisplay">æ•°æ®æ›´æ–°äºï¼š2025å¹´12æœˆ28æ—¥11æ—¶06åˆ†00ç§’</div>
            </div>
            
            <!-- å¯¼èˆªæ ‡ç­¾ -->
            <div class="rank-tabs">
                <button class="rank-tab active" data-rank-type="all">
                    <span class="rank-tab-icon">ğŸ”¥</span> ç»¼åˆå½±å“åŠ›æ¦œ
                </button>
                <button class="rank-tab" data-rank-type="teachers">
                    <span class="rank-tab-icon">ğŸ‘¨â€ğŸ«</span> æ•™å¸ˆç²¾è‹±æ¦œ
                </button>
                <button class="rank-tab" data-rank-type="students">
                    <span class="rank-tab-icon">ğŸ‘¨â€ğŸ“</span> å­¦ç”Ÿæ–°æ˜Ÿæ¦œ
                </button>
                <button class="rank-tab" data-rank-type="quotes">
                    <span class="rank-tab-icon">ğŸ’¬</span> è¯­å½•æ•°é‡æ¦œ
                </button>
                <button class="rank-tab" data-rank-type="mentioned">
                    <span class="rank-tab-icon">ğŸ‘ï¸</span> è¢«æåŠæ¦œ
                </button>
            </div>
            
            <!-- è‹±é›„èˆå°åŒº -->
            <div class="hero-stage">
                <h2 class="stage-title">ğŸ… è£è€€æ®¿å ‚ Â· å‰ä¸‰ç”²</h2>
                
                <div class="podium-container" id="podium-container">
                    <!-- å‰ä¸‰ååŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            
            <!-- ç²¾è‹±æ¦œå•åŒº -->
            <div class="elite-rankings">
                <h2 class="elite-title">ğŸ–ï¸ ç²¾è‹±æ¦œå• Â· ç¬¬4-20å</h2>
                <div class="elite-grid" id="elite-grid">
                    <!-- ç²¾è‹±æ¦œå•åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // æ•°æ®é…ç½®åŒº - ä½¿ç”¨çœŸå®æ•°æ®
        // ============================================
        
        const UPDATE_TIME = "2025å¹´12æœˆ28æ—¥11æ—¶06åˆ†00ç§’";
        
        // æ•™å¸ˆçœŸå®æ•°æ®
        const TEACHER_DATA = {
            "é™ˆç³": [341, 25],
            "èŒƒå¶æ–Œ": [19, 8],
            "éƒ‘å®‡": [30, 12],
            "é‡‘å£°": [870, 185],
            "å†¯ç§‹äº‘": [42, 18],
            "èµµæ°¸æ’": [27, 10],
            "é¢œæœ‰è™¹": [322, 68],
            "ä¸¥å¿—èŠ³": [97, 22],
            "ç¨‹ä¿æƒ": [20, 9],
            "é™ˆå‰ç´": [102, 30],
            "å¶æ°¸è": [21, 6],
            "å‚…æ•": [26, 15],
            "æ—æ ¹": [104, 32],
            "æ˜Ÿè¾°": [29, 12]
        };
        
        // å­¦ç”ŸçœŸå®æ•°æ®
        const STUDENT_DATA = {
            "è°¢æ˜Šè¾°": [0, 2],
            "é‚±æµ©å®¸": [1, 2],
            "éŸ©é‡‘æˆ": [0, 1],
            "éƒ‘æ™¯ä¸¥": [0, 5],
            "éƒ‘ä¹é¼": [0, 4],
            "ç‹æµ©å®‡": [0, 0],
            "é»„èŠ·è£³": [0, 0],
            "åˆ˜æ¢“æ¥·": [2, 39],
            "é™ˆæ—ä½³": [5, 18],
            "å€ªæ¥·æ¥ ": [0, 2],
            "é™ˆæµ©å¤©": [0, 3],
            "å¼ å­æ‰¬": [1, 16],
            "å´æ˜Šå¤©": [0, 5],
            "å¼ çš“": [3, 12],
            "æ±ªåƒé›…": [0, 0],
            "é»„æœµå„¿": [0, 0],
            "å´æ³½æ›¦": [0, 2],
            "æ—æ›¾ç«¤": [0, 3],
            "é™ˆæ˜“èˆª": [0, 4],
            "æ—è£æ˜•": [0, 2],
            "æ—ç­ é“­": [0, 1],
            "å¶ä¸€å¸†": [1, 7],
            "é»„æ¥·æ°": [0, 2],
            "æ¸©é™åª›": [0, 1],
            "å­™æ¾œè": [0, 0],
            "é»„å®¶è€€": [13, 64],
            "å¶å¯è¿": [0, 6],
            "å…°å˜‰æ¶µ": [0, 3],
            "å•å¥•é“®": [6, 8],
            "å¸¸å‡¯": [0, 14],
            "æ—å³»æº": [0, 0],
            "ç« çš“æ™¨": [0, 2],
            "é™ˆæ å½¤": [0, 0],
            "é™ˆä½³é‘«": [0, 2],
            "å´å…†å…ƒ": [0, 0],
            "ä½•å†¬æ˜±": [0, 2],
            "èµ–ç¥‰ç¥º": [0, 2],
            "æ—é–è½©": [0, 0],
            "è”¡è¾¾ç¤¼": [2, 6],
            "å¶å­å°§": [0, 1],
            "è”¡é“ æ³½": [0, 6],
            "é™†åº­é”´": [0, 0],
            "æ—å˜‰è±ª": [1, 0],
            "é™ˆç¿æ°": [0, 3],
            "æ±Ÿæ™ºæˆ": [0, 1],
            "ææµ©ä¸€": [0, 1],
            "æå¥¥": [0, 2],
            "åˆ˜é›¨çª": [0, 2],
            "åˆ˜è¾°ç¿": [0, 0],
            "æ—äº¦è½²": [0, 5],
            "å·«å¤æœµ": [0, 0],
            "å‘¨å–„è¿›": [0, 1],
            "æ—é“ å¢¨": [2, 13],
            "ä¼åšé”´": [0, 3]
        };
        
        // æ•™å¸ˆç§‘ç›®ä¿¡æ¯
        const TEACHER_SUBJECTS = {
            "é™ˆç³": "è¯­æ–‡",
            "èŒƒå¶æ–Œ": "è¯­æ–‡",
            "éƒ‘å®‡": "è¯­æ–‡",
            "é‡‘å£°": "æ•°å­¦",
            "å†¯ç§‹äº‘": "è‹±è¯­",
            "èµµæ°¸æ’": "è‹±è¯­",
            "é¢œæœ‰è™¹": "ç‰©ç†",
            "ä¸¥å¿—èŠ³": "åŒ–å­¦",
            "ç¨‹ä¿æƒ": "åŒ–å­¦",
            "é™ˆå‰ç´": "ç”Ÿç‰©",
            "å¶æ°¸è": "ç”Ÿç‰©",
            "å‚…æ•": "æ”¿æ²»",
            "æ—æ ¹": "æ”¿æ²»",
            "æ˜Ÿè¾°": "æ•™å®˜è¯­å½•"
        };
        
        // ============================================
        // æ ¸å¿ƒæ•°æ®å‡½æ•°
        // ============================================
        
        // ç”Ÿæˆå®Œæ•´æ•°æ®é›†åˆ
        function generateRankData() {
            const allData = [];
            
            // æ·»åŠ æ•™å¸ˆæ•°æ®
            Object.keys(TEACHER_DATA).forEach((teacherName, index) => {
                const [quoteCount, mentionedCount] = TEACHER_DATA[teacherName];
                const influenceScore = calculateInfluenceScore(quoteCount, mentionedCount);
                const subject = TEACHER_SUBJECTS[teacherName] || "æœªçŸ¥ç§‘ç›®";
                
                allData.push({
                    id: `T${String(index + 1).padStart(2, '0')}`,
                    name: teacherName,
                    displayName: `${subject}-${teacherName}`,
                    type: "teacher",
                    subject: subject,
                    quoteCount: quoteCount,
                    mentionedCount: mentionedCount,
                    influenceScore: influenceScore,
                    title: getTitleByScore(influenceScore, "teacher")
                });
            });
            
            // æ·»åŠ å­¦ç”Ÿæ•°æ®
            let studentIndex = 1;
            Object.keys(STUDENT_DATA).forEach((studentName) => {
                const studentStats = STUDENT_DATA[studentName] || [0, 0];
                const [quoteCount, mentionedCount] = studentStats;
                const influenceScore = calculateInfluenceScore(quoteCount, mentionedCount);
                const seatNumber = String(studentIndex).padStart(2, '0');
                
                allData.push({
                    id: seatNumber,
                    name: studentName,
                    displayName: `${seatNumber}-${studentName}`,
                    type: "student",
                    subject: "1ç­",
                    quoteCount: quoteCount,
                    mentionedCount: mentionedCount,
                    influenceScore: influenceScore,
                    title: getTitleByScore(influenceScore, "student")
                });
                
                studentIndex++;
            });
            
            return allData;
        }
        
        // è®¡ç®—å½±å“åŠ›æŒ‡æ•°
        function calculateInfluenceScore(quoteCount, mentionedCount) {
            return (quoteCount * 1.0) + (mentionedCount * 0.7);
        }
        
        // æ ¹æ®åˆ†æ•°è·å–ç§°å·
        function getTitleByScore(score, type) {
            if (type === "teacher") {
                if (score >= 200) return "ä¼ å¥‡å®—å¸ˆ";
                if (score >= 100) return "é‡‘ç‰Œè®²å¸ˆ";
                if (score >= 50) return "äººæ°”æ•™å¸ˆ";
                if (score >= 20) return "æ½œåŠ›æ•™å¸ˆ";
                return "æ–°æ™‹æ•™å¸ˆ";
            } else {
                if (score >= 50) return "æ ¡å›­ä¹‹æ˜Ÿ";
                if (score >= 20) return "äººæ°”æ–°æ˜Ÿ";
                if (score >= 10) return "æ´»è·ƒåˆ†å­";
                if (score >= 5) return "æ½œåŠ›æ–°äºº";
                return "è§‚å¯Ÿå­¦å‘˜";
            }
        }
        
        // è·å–å¤´åƒé¢œè‰²
        function getAvatarColor(name) {
            const colors = [
                "#FFD700", "#FFA500", "#FF6347", "#FF69B4", "#9370DB",
                "#00CED1", "#32CD32", "#1E90FF", "#FF4500", "#DA70D6"
            ];
            let hash = 0;
            for (let i = 0; i < name.length; i++) {
                hash = name.charCodeAt(i) + ((hash << 5) - hash);
            }
            return colors[Math.abs(hash) % colors.length];
        }
        
        // è·å–åå­—é¦–å­—æ¯
        function getInitials(name) {
            if (/[\u4e00-\u9fa5]/.test(name)) {
                return name.length >= 2 ? name.substring(0, 2) : name;
            }
            return name.substring(0, 1).toUpperCase();
        }
        
        // ============================================
        // æ’åæ¸²æŸ“å‡½æ•°
        // ============================================
        
        let allRankData = [];
        let currentRankType = 'all';
        
        // æ¸²æŸ“å‰ä¸‰åå¥–å°
        function renderPodium(topThree) {
            const container = document.getElementById('podium-container');
            if (!container) return;
            
            if (!topThree || topThree.length === 0) {
                container.innerHTML = '<div class="no-data">æš‚æ— å‰ä¸‰åæ•°æ®</div>';
                return;
            }
            
            let podiumHTML = '';
            
            // ç¡®ä¿è‡³å°‘æœ‰3ä¸ªä½ç½®ï¼Œå¦‚æœä¸å¤Ÿå°±ç”¨ç©ºä½å¡«å……
            for (let i = 0; i < 3; i++) {
                const person = topThree[i] || null;
                const rank = i + 1;
                
                let podiumClass = '';
                if (rank === 1) podiumClass = 'podium-first';
                else if (rank === 2) podiumClass = 'podium-second';
                else podiumClass = 'podium-third';
                
                if (person) {
                    podiumHTML += `
                        <div class="podium ${podiumClass}">
                            <div class="rank-badge">${rank}</div>
                            
                            <div class="person-avatar" style="border-color: ${getAvatarColor(person.name)}; color: ${getAvatarColor(person.name)};">
                                ${getInitials(person.name)}
                            </div>
                            
                            <h3 class="person-name">${person.name}</h3>
                            <div class="person-title">${person.title}</div>
                            
                            <div class="person-stats">
                                <div class="stat-item">
                                    <div class="stat-value">${person.quoteCount}</div>
                                    <div class="stat-label">è¯­å½•æ•°</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value">${person.mentionedCount}</div>
                                    <div class="stat-label">è¢«æåŠ</div>
                                </div>
                            </div>
                            
                            <div class="influence-score">
                                å½±å“åŠ›: ${person.influenceScore.toFixed(1)}
                            </div>
                            
                            <div class="person-type" style="margin-top: 10px; font-size: 0.9rem; color: rgba(255,255,255,0.7);">
                                ${person.type === 'teacher' ? 'ğŸ‘¨â€ğŸ« æ•™å¸ˆ Â· ' + person.subject : 'ğŸ‘¨â€ğŸ“ å­¦ç”Ÿ Â· ' + person.subject}
                            </div>
                        </div>
                    `;
                } else {
                    // ç©ºä½
                    podiumHTML += `
                        <div class="podium ${podiumClass}" style="opacity: 0.5;">
                            <div class="rank-badge">${rank}</div>
                            <div class="person-avatar" style="border-color: #666; color: #666;">
                                ?
                            </div>
                            <h3 class="person-name">è™šä½ä»¥å¾…</h3>
                            <div class="person-title">ç­‰å¾…ä¸Šæ¦œ</div>
                            <div style="margin-top: 40px; color: rgba(255,255,255,0.5);">
                                æš‚æ— æ•°æ®
                            </div>
                        </div>
                    `;
                }
            }
            
            container.innerHTML = podiumHTML;
        }
        
        // æ¸²æŸ“ç²¾è‹±æ¦œå•ï¼ˆ4-20åï¼‰
        function renderEliteRankings(rankings) {
            const container = document.getElementById('elite-grid');
            if (!container) return;
            
            // å–4-20åï¼Œå¦‚æœä¸å¤Ÿåˆ™å–å…¨éƒ¨
            const eliteData = rankings.length > 3 ? rankings.slice(3, 20) : [];
            
            if (!eliteData || eliteData.length === 0) {
                container.innerHTML = '<div class="no-data">æš‚æ— ç²¾è‹±æ¦œå•æ•°æ®</div>';
                return;
            }
            
            let eliteHTML = '';
            
            eliteData.forEach((person, index) => {
                const rank = index + 4; // ä»ç¬¬4åå¼€å§‹
                
                eliteHTML += `
                    <div class="elite-card" data-rank="${rank}">
                        <div class="elite-rank">${rank}</div>
                        
                        <div class="elite-content">
                            <div class="elite-avatar" style="border-color: ${getAvatarColor(person.name)}; color: ${getAvatarColor(person.name)};">
                                ${getInitials(person.name)}
                            </div>
                            
                            <div class="elite-info">
                                <h4 class="elite-name">${person.name}</h4>
                                <span class="elite-type">${person.type === 'teacher' ? 'æ•™å¸ˆ' : 'å­¦ç”Ÿ'}</span>
                            </div>
                        </div>
                        
                        <div class="elite-stats">
                            <div class="elite-stat">
                                <div class="elite-stat-value">${person.quoteCount}</div>
                                <div class="elite-stat-label">è¯­å½•æ•°</div>
                            </div>
                            <div class="elite-stat">
                                <div class="elite-stat-value">${person.mentionedCount}</div>
                                <div class="elite-stat-label">è¢«æåŠ</div>
                            </div>
                            <div class="elite-stat">
                                <div class="elite-stat-value">${person.influenceScore.toFixed(1)}</div>
                                <div class="elite-stat-label">å½±å“åŠ›</div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = eliteHTML;
        }
        
        // æ ¹æ®ç±»å‹ç­›é€‰å’Œæ’åºæ•°æ®
        function getRankedData(type) {
            let filteredData = [...allRankData];
            
            // æ ¹æ®ç±»å‹ç­›é€‰
            if (type === 'teachers') {
                filteredData = filteredData.filter(item => item.type === 'teacher');
            } else if (type === 'students') {
                filteredData = filteredData.filter(item => item.type === 'student');
            } else if (type === 'quotes') {
                // æŒ‰è¯­å½•æ•°é‡æ’åº
                filteredData.sort((a, b) => b.quoteCount - a.quoteCount);
                return filteredData;
            } else if (type === 'mentioned') {
                // æŒ‰è¢«æåŠæ¬¡æ•°æ’åº
                filteredData.sort((a, b) => b.mentionedCount - a.mentionedCount);
                return filteredData;
            }
            
            // é»˜è®¤æŒ‰å½±å“åŠ›æ’åº
            filteredData.sort((a, b) => b.influenceScore - a.influenceScore);
            return filteredData;
        }
        
        // æ›´æ–°æ‰€æœ‰æ’åæ˜¾ç¤º
        function updateRankings(type) {
            currentRankType = type;
            const rankedData = getRankedData(type);
            
            // æ¸²æŸ“å‰ä¸‰å
            renderPodium(rankedData.slice(0, 3));
            
            // æ¸²æŸ“ç²¾è‹±æ¦œå•
            renderEliteRankings(rankedData);
            
            // éšè—åŠ è½½åŠ¨ç”»
            const loadingOverlay = document.getElementById('loadingOverlay');
            if (loadingOverlay) {
                loadingOverlay.style.opacity = '0';
                setTimeout(() => {
                    loadingOverlay.style.display = 'none';
                }, 300);
            }
        }
        
        // ============================================
        // é¡µé¢åˆå§‹åŒ–
        // ============================================
        
        document.addEventListener('DOMContentLoaded', function() {
            // æ›´æ–°é¡µé¢ä¸Šçš„æ—¶é—´æ˜¾ç¤º
            const updateTimeDisplay = document.getElementById('updateTimeDisplay');
            if (updateTimeDisplay) {
                updateTimeDisplay.textContent = `æ•°æ®æ›´æ–°äºï¼š${UPDATE_TIME}`;
            }
            
            // ç”Ÿæˆæ•°æ®
            allRankData = generateRankData();
            
            // åˆå§‹æ˜¾ç¤ºç»¼åˆæ¦œ
            updateRankings('all');
            
            // ============================================
            // äº‹ä»¶ç»‘å®š
            // ============================================
            
            // å¯¼èˆªæ ‡ç­¾ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.rank-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    // æ›´æ–°æŒ‰é’®çŠ¶æ€
                    document.querySelectorAll('.rank-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // è·å–æ’åç±»å‹
                    const type = this.dataset.rankType;
                    
                    // æ›´æ–°æ’å
                    updateRankings(type);
                });
            });
            
            // ============================================
            // ä¾§è¾¹æ åŠŸèƒ½
            // ============================================
            
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebar-toggle');
            const mainContent = document.getElementById('rank-main-content');
            
            if (sidebar && sidebarToggle && mainContent) {
                let sidebarCollapsed = false;

                sidebarToggle.addEventListener('click', () => {
                    sidebarCollapsed = !sidebarCollapsed;
                    if (sidebarCollapsed) {
                        sidebar.classList.add('collapsed');
                        mainContent.classList.add('sidebar-collapsed');
                        sidebarToggle.textContent = 'â˜°';
                    } else {
                        sidebar.classList.remove('collapsed');
                        mainContent.classList.remove('sidebar-collapsed');
                        sidebarToggle.textContent = 'â‰¡';
                    }
                });
            }
            
            // ä¾§è¾¹æ å¯¼èˆªé¡¹ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.teacher-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    // å¦‚æœæ˜¯é“¾æ¥ï¼Œå…è®¸è·³è½¬
                    if (this.hasAttribute('href')) {
                        return;
                    }
                    e.preventDefault();
                    // å¦‚æœæ˜¯è¯­å½•é¡¹ï¼Œè·³å›ä¸»é¡µ
                    window.location.href = 'index.html';
                });
            });
            
            // æ·»åŠ ç®€å•çš„å…¥åœºåŠ¨ç”»
            setTimeout(() => {
                const podiumElements = document.querySelectorAll('.podium');
                podiumElements.forEach((el, index) => {
                    el.style.opacity = '0';
                    el.style.transform = 'translateY(50px)';
                    setTimeout(() => {
                        el.style.transition = 'all 0.5s ease';
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }, index * 200);
                });
                
                const eliteCards = document.querySelectorAll('.elite-card');
                eliteCards.forEach((el, index) => {
                    el.style.opacity = '0';
                    el.style.transform = 'translateY(30px)';
                    setTimeout(() => {
                        el.style.transition = 'all 0.4s ease';
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }, 600 + (index * 50));
                });
            }, 100);
        });
    </script>
</body>
</html>
